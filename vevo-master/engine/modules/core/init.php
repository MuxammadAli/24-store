<?php
if(!defined('DATALIFEENGINE'))  die("Hacking attempt!");
if(!defined('SNIPPETS_DIR')) define(SNIPPETS_DIR, preg_replace("/(.+)\/core(.*)/i", "\$1", dirname(__FILE__)));

global $_IP;			#ip адрес пользователя
global $_TIME;			#время сайта (сервера) с учетом часового пояса
global $AJAX;			#=1 значит модуль работает через ajax =0 обычный режим работы
global $allow_sql_skin;	#???????????????????????????????????????????????????????????????????
global $allowed_sort;	#массив задающий порядок сортировки новостей
global $cache;			#класс альтернативный кэш
global $cat_info;		#массив содержащий информацию обовсех новостных категориях
global $catalog;		#???????????????????????????????????????????????????????????????????
global $category;		#псевдоним активной категории через ajax всегда неопределена
global $category_id;	#id активной категории или id категории которой принадлежит активная новость через ajax всегда неопределена 
global $category_skin;	#???????????????????????????????????????????????????????????????????
global $config;			#массив с конфигурационными данными
global $cstart;			#= 1 когда мы находимся на главной странице сайта в остальных случаях = 0 при запросе через ajax всегда = 0
global $db;				#класс реализующий работу с БД
global $dle_module;		#содержит информацию о разделе сайта, который просматривает пользователь, либо информацию переменной do из URL браузера.
global $is_logged;		#= 1 если пользователь прошел авторизацию иначе = 0
global $member_id;		#массив с полной информацией о пользователе если гость то определено только $member_id['user_group']=5
global $metatags;		#???????????????????????????????????????????????????????????????????
global $nam_e;			#???????????????????????????????????????????????????????????????????
global $news_page;		#???????????????????????????????????????????????????????????????????
global $news_name;		#псевдоним активной новости через ajax всегда неопределена
global $newsid;			#id активной новости через ajax всегда = 0
global $PHP_SELF;		#домен сайта на конце с index.php
global $prefix;			#префикс базы данных
global $static_result;	#массив с полной информацией об активной статической странице через ajax всегда неопределена
global $titl_e;		#???????????????????????????????????????????????????????????????????
global $tpl;			#класс реализующий работу с шаблонами DLE
global $user;			#???????????????????????????????????????????????????????????????????
global $user_group;		#массив содержащий информацию обовсех группах пользователей
global $view;			#класс шаблонизатора		

$AJAX = 0;
if(!$config){require_once "ajax.php";unset($dle_login_hash,$dle_user_id,$dle_password,$salt,$hash);}
if(!$config) die("Error!");
$prefix = PREFIX;

require_once "class.php";
if(!$view)	$view = new View(ROOT_DIR."/templates/{$config['skin']}/");
if(!$cache)	$cache = new Cache(ENGINE_DIR."/cache");
?>